We can either use:

  * FSM (finite state machine, NOT flying spaghetti monster)
  * graph of some sort

Regardless, the behaviors that could be supported:

  * the random walk
  * NPCs with range attacks being aware that they must move to be able to attack someone
  * recognition of what weapon the entity has
  * the hostile state
  * self-preservation (use item when life is low, or bind wounds, cast spell, etc)